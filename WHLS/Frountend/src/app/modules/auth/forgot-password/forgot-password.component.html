<section class="forgot-page">
  <div class="forgot-box fade-in">

    <!-- LEFT FORM -->
    <div class="forgot-form">
      <h2>Reset Password</h2>
      <p class="subtitle">Create a new password to continue</p>

      <form (ngSubmit)="submit()" #forgotForm="ngForm" novalidate>

        <!-- EMAIL -->
        <div class="form-group">
          <label>Email address</label>
          <input
            type="email"
            name="email"
            [(ngModel)]="email"
            required
            email
            #emailRef="ngModel"
          />
          <small class="error" *ngIf="emailRef.invalid && emailRef.touched">
            Valid email is required
          </small>
        </div>

        <!-- NEW PASSWORD -->
        <div class="form-group">
          <label>New Password</label>
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="newPassword"
            [(ngModel)]="newPassword"
            required
            minlength="6"
            #newPassRef="ngModel"
          />
          <small class="error" *ngIf="newPassRef.invalid && newPassRef.touched">
            Password must be at least 6 characters
          </small>
        </div>

        <!-- CONFIRM PASSWORD -->
        <div class="form-group">
          <label>Confirm Password</label>
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            required
            #confirmPassRef="ngModel"
          />
          <small class="error"
            *ngIf="confirmPassword && newPassword !== confirmPassword">
            Passwords do not match
          </small>
        </div>

        <!-- SHOW / HIDE -->
        <div class="form-footer">
          <span class="toggle" (click)="togglePassword()">
            {{ showPassword ? 'Hide password' : 'Show password' }}
          </span>
        </div>

        <!-- BUTTON -->
        <button
          type="submit"
          [disabled]="forgotForm.invalid || newPassword !== confirmPassword || isLoading">
          {{ isLoading ? 'Resetting...' : 'Reset Password' }}
        </button>

        <!-- MESSAGE -->
        <p class="success" *ngIf="message">{{ message }}</p>
        <p class="error" *ngIf="error">{{ error }}</p>

        <a routerLink="/login" class="back-link">‚Üê Back to login</a>
      </form>
    </div>

    <!-- RIGHT IMAGE -->
    <div class="forgot-image d-none d-md-flex slide-in">
      <img
        src="https://cdn-icons-png.flaticon.com/512/2919/2919600.png"
        alt="Reset Password"
      />
    </div>

  </div>
</section>
